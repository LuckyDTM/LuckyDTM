<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUCKY /// ULTIMATE_SYSTEM</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;800&family=JetBrains+Mono:wght@400;700&family=Syncopate:wght@400;700&family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        /* --- FAVICON LOADER --- */
        document.addEventListener("DOMContentLoaded", async () => {
            try {
                const r = await fetch('favicon.txt');
                if (r.ok) {
                    let b = (await r.text()).trim();
                    let l = document.querySelector("link[rel~='icon']") || document.createElement('link');
                    l.rel = 'icon'; document.head.appendChild(l);
                    l.href = b.startsWith('data:') ? b : `data:image/png;base64,${b}`;
                }
            } catch (e) {}
        });
    </script>

    <style>
        /* =========================================
           1. BASE VARIABLES & RESET
           ========================================= */
        :root {
            --transition-speed: 0.5s;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; transition: background var(--transition-speed), color var(--transition-speed), border-color var(--transition-speed), box-shadow var(--transition-speed), transform 0.2s; }

        body {
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* =========================================
           2. THEME DEFINITIONS (THE MAGIC)
           ========================================= */

        /* --- MODE A: SYSTEM (Default / Cyberpunk) --- */
        body.mode-system {
            background-color: #050505;
            color: #eaeaea;
            font-family: 'JetBrains Mono', monospace;
            --accent: #00f3ff;
            --bg-card: rgba(15, 15, 15, 0.9);
            --border: 1px solid rgba(0, 243, 255, 0.2);
            --font-head: 'Syncopate', sans-serif;
            cursor: crosshair;
        }
        body.mode-system .scanlines { display: block; }
        body.mode-system .hero-title { text-shadow: 3px 0 var(--accent); }
        body.mode-system .card-container { transform-style: preserve-3d; perspective: 1000px; } /* Enables Tilt */

        /* --- MODE B: CLEAN (Simple / Light) --- */
        body.mode-clean {
            background-color: #f4f4f5;
            color: #18181b;
            font-family: 'Inter', sans-serif;
            --accent: #2563eb;
            --bg-card: #ffffff;
            --border: 1px solid #e4e4e7;
            --font-head: 'Inter', sans-serif;
            cursor: default;
        }
        body.mode-clean .scanlines { display: none; }
        body.mode-clean #particle-canvas { opacity: 0.2; } /* Faint particles */
        body.mode-clean .hero-title { font-weight: 800; letter-spacing: -2px; color: #000; text-shadow: none; }
        body.mode-clean .nav-btn { border-radius: 6px; }
        body.mode-clean .hero-sub { color: #52525b; border-left: none; }
        
        /* --- MODE C: TERMINAL (Retro / Hacker) --- */
        body.mode-terminal {
            background-color: #000000;
            color: #33ff00;
            font-family: 'VT323', monospace;
            --accent: #33ff00;
            --bg-card: #000000;
            --border: 1px dashed #33ff00;
            --font-head: 'VT323', monospace;
            cursor: text;
        }
        body.mode-terminal .scanlines { 
            display: block; 
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 255, 0, 0.1) 50%);
            background-size: 100% 4px;
        }
        body.mode-terminal .hero-title { font-size: 6rem; text-shadow: 0 0 10px #33ff00; }
        body.mode-terminal .nav-btn { text-transform: lowercase; }
        body.mode-terminal .profile-img { filter: grayscale(100%) contrast(200%) brightness(0.8) sepia(100%) hue-rotate(50deg) saturate(500%); }
        body.mode-terminal ::selection { background: #33ff00; color: #000; }

        /* =========================================
           3. GLOBAL ELEMENTS
           ========================================= */
        
        /* FX LAYERS */
        .scanlines {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(0,0,0,0) 50%, rgba(0,0,0,0.2) 50%);
            background-size: 100% 3px; pointer-events: none; z-index: 900;
        }
        #particle-canvas { position: fixed; top:0; left:0; width: 100%; height: 100%; z-index: -1; }

        /* SETTINGS UI */
        .settings-btn {
            position: fixed; top: 20px; right: 20px; z-index: 2000;
            background: var(--bg-card); border: var(--border); color: var(--accent);
            width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;
            cursor: pointer; border-radius: 50%;
        }
        .settings-menu {
            position: fixed; top: 70px; right: 20px; z-index: 2000;
            background: var(--bg-card); border: var(--border); padding: 20px;
            width: 260px; display: none; backdrop-filter: blur(10px);
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        .settings-menu.open { display: block; animation: slideDown 0.3s; }
        @keyframes slideDown { from{opacity:0; transform:translateY(-10px);} to{opacity:1; transform:translateY(0);} }
        
        .mode-select-btn {
            display: block; width: 100%; padding: 10px; margin-bottom: 8px;
            background: transparent; border: var(--border); color: inherit;
            cursor: pointer; font-family: inherit; text-align: left;
        }
        .mode-select-btn:hover { background: var(--accent); color: #000; }

        /* SIDEBAR STATS (NEW FEATURE) */
        .sidebar {
            position: fixed; top: 50%; left: 20px; transform: translateY(-50%);
            writing-mode: vertical-rl; text-orientation: mixed;
            font-size: 0.7rem; color: #666; z-index: 100;
            display: flex; gap: 20px; pointer-events: none;
        }
        /* Hide sidebar on mobile */
        @media(max-width: 900px) { .sidebar { display: none; } }

        .container { max-width: 1000px; margin: 0 auto; padding: 0 20px 100px 20px; }

        /* HERO */
        header { padding: 120px 0 60px 0; text-align: center; }
        .hero-title {
            font-family: var(--font-head); font-size: 5rem; font-weight: 700;
            margin-bottom: 10px; color: inherit;
        }
        .hero-sub {
            font-size: 1rem; color: var(--accent); letter-spacing: 3px;
        }

        /* NAVIGATION */
        .nav-deck { display: flex; justify-content: center; gap: 10px; margin-bottom: 50px; flex-wrap: wrap; }
        .nav-btn {
            background: var(--bg-card); border: var(--border); color: inherit;
            padding: 12px 25px; cursor: pointer; font-family: var(--font-head);
            font-size: 0.9rem;
        }
        .nav-btn:hover, .nav-btn.active { background: var(--accent); color: #000; font-weight: bold; }

        /* CONTENT TABS */
        .tab-content { display: none; animation: fadeIn 0.5s; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from{opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }

        /* CARDS & LAYOUTS */
        .profile-grid { display: grid; grid-template-columns: 1fr 1.5fr; gap: 30px; }
        
        .card-container {
            background: var(--bg-card); border: var(--border);
            padding: 30px; position: relative; transition: transform 0.1s;
        }
        
        .profile-img {
            height: 300px; background: #111; display: flex; align-items: center; justify-content: center;
            border: var(--border); overflow: hidden; position: relative;
        }
        .profile-img h1 { font-size: 10rem; opacity: 0.1; color: var(--accent); }

        h2 { font-family: var(--font-head); margin-bottom: 15px; color: var(--accent); }
        p { line-height: 1.6; margin-bottom: 15px; opacity: 0.9; }

        /* AUDIO PLAYER */
        .audio-wrapper {
            margin-top: 30px; padding: 20px;
            background: rgba(0,0,0,0.2); border: var(--border);
        }
        .player-controls { display: flex; align-items: center; gap: 15px; }
        .play-btn {
            width: 40px; height: 40px; border-radius: 50%;
            background: var(--accent); border: none; color: #000;
            cursor: pointer; font-size: 1rem; display: flex; align-items: center; justify-content: center;
        }
        .play-btn:hover { transform: scale(1.1); }
        
        .viz-box { display: flex; gap: 2px; height: 20px; align-items: flex-end; opacity: 0.5; }
        .bar { width: 4px; background: var(--accent); height: 5px; transition: height 0.1s; }

        /* RELEASES LIST */
        .release-item {
            background: var(--bg-card); border: var(--border);
            padding: 20px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center;
        }
        .tag { background: var(--accent); color: #000; padding: 2px 8px; font-size: 0.7rem; font-weight: bold; }

        /* FAQ ITEMS */
        .faq-item { margin-bottom: 20px; border-bottom: var(--border); padding-bottom: 20px; }
        .faq-q { font-size: 1.1rem; margin-bottom: 5px; cursor: pointer; }
        .faq-q:hover { color: var(--accent); }
        .faq-a { font-size: 0.9rem; opacity: 0.8; }

        /* LINKS GRID */
        .link-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .link-card {
            background: var(--bg-card); border: var(--border); padding: 30px;
            text-align: center; text-decoration: none; color: inherit; display: block;
        }
        .link-card:hover { border-color: var(--accent); transform: translateY(-5px); }
        .link-card i { font-size: 2rem; margin-bottom: 10px; color: var(--accent); }

        @media(max-width: 800px) {
            .profile-grid, .link-grid { grid-template-columns: 1fr; }
            .hero-title { font-size: 12vw; }
        }

    </style>
</head>
<body class="mode-system"> <div class="scanlines"></div>
    <canvas id="particle-canvas"></canvas>

    <button class="settings-btn" onclick="toggleSettings()" onmouseenter="playHover()">
        <i class="fa-solid fa-gear"></i>
    </button>
    <div class="settings-menu" id="settingsMenu">
        <h3 style="margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 5px;">UI_MODE_SELECT</h3>
        <button class="mode-select-btn" onclick="setMode('system')" onmouseenter="playHover()">[1] SYSTEM (Default)</button>
        <button class="mode-select-btn" onclick="setMode('clean')" onmouseenter="playHover()">[2] CLEAN (Simple)</button>
        <button class="mode-select-btn" onclick="setMode('terminal')" onmouseenter="playHover()">[3] TERMINAL (Retro)</button>
        
        <div style="margin-top: 15px; font-size: 0.7rem; color: #666;">
            VOLUME: <input type="range" id="volControl" min="0" max="1" step="0.1" value="0.5" oninput="updateVol(this.value)">
        </div>
    </div>

    <div class="sidebar">
        <div>SESSION: <span id="sessionTimer">00:00</span></div>
        <div>LOCAL_TIME: <span id="localClock">00:00:00</span></div>
        <div style="color:var(--accent)">STATUS: ONLINE</div>
    </div>

    <header>
        <div class="container">
            <h1 class="hero-title glitch-text" data-text="LUCKY">LUCKY</h1>
            <div class="hero-sub">MULTIMEDIA PRODUCER</div>
        </div>
    </header>

    <div class="container">
        
        <nav class="nav-deck">
            <button class="nav-btn active" onclick="switchTab('overview', this)" onmouseenter="playHover()">OVERVIEW</button>
            <button class="nav-btn" onclick="switchTab('releases', this)" onmouseenter="playHover()">RELEASES</button>
            <button class="nav-btn" onclick="switchTab('data', this)" onmouseenter="playHover()">DATA_LOG</button>
            <button class="nav-btn" onclick="switchTab('uplinks', this)" onmouseenter="playHover()">UPLINKS</button>
        </nav>

        <div id="overview" class="tab-content active">
            <div class="profile-grid">
                <div class="card-container profile-img tilt-target">
                    <h1>M</h1>
                    <div style="position: absolute; bottom: 10px; right: 10px; font-size: 0.7rem; border: var(--border); padding: 2px 5px;">ID: M</div>
                </div>
                
                <div class="card-container tilt-target">
                    <h2>MULTIVERSAL TRANSCEND</h2>
                    <p style="color: var(--accent); font-weight: bold;">[BIGGEST PROJECT YET]</p>
                    <p>
                        This isn't just an album; it's a genre-bending event. I'm combining 
                        PsyStyle, Hardstyle, 200step, Cinematic Orchestral, Speedcore, and Hybrid Trap 
                        into one massive experience.
                    </p>
                    <p>It is currently a Work In Progress. Be ready.</p>

                    <div class="audio-wrapper">
                        <div style="font-size: 0.8rem; margin-bottom: 10px; opacity: 0.7;">INTERCEPTED FILE: CROSSFADE_DEMO</div>
                        <div class="player-controls">
                            <button class="play-btn" id="playBtn" onmouseenter="playHover()">
                                <i class="fa-solid fa-play"></i>
                            </button>
                            <div style="flex-grow: 1;">
                                <div style="font-weight: bold; font-size: 0.9rem;">Sneak Peek</div>
                                <div id="trackStatus" style="font-size: 0.7rem;">Ready to Decrypt...</div>
                            </div>
                            <div class="viz-box" id="vizBox">
                                <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div id="releases" class="tab-content">
            <h2 style="text-align: center; margin-bottom: 30px;">DISCOGRAPHY</h2>
            <div class="release-item card-container tilt-target">
                <div>
                    <h3>Multiversal Transcend</h3>
                    <div style="font-size: 0.8rem; opacity: 0.6;">Album / Multi-Genre</div>
                </div>
                <div class="tag">SOON</div>
            </div>
            <div class="release-item card-container tilt-target">
                <div>
                    <h3>Unknown Speedcore ID</h3>
                    <div style="font-size: 0.8rem; opacity: 0.6;">Single / 250+ BPM</div>
                </div>
                <div class="tag">SOON</div>
            </div>
            <div class="release-item card-container tilt-target">
                <div>
                    <h3>Cinematic Orchestral Intro</h3>
                    <div style="font-size: 0.8rem; opacity: 0.6;">Intro / Atmospheric</div>
                </div>
                <div class="tag">SOON</div>
            </div>
        </div>

        <div id="data" class="tab-content">
            <div class="card-container tilt-target">
                <div class="faq-item">
                    <div class="faq-q">Origin Story</div>
                    <div class="faq-a">
                        Back in late 2023/early 2024, I played <em>Funky Friday</em> on Roblox and discovered <strong>Camellia</strong>. His music blew my mind and inspired me to start producing my own tracks with a similar chaotic style.
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-q">Hobbies</div>
                    <div class="faq-a">
                        Besides producing in FL Studio, I love Fishing, riding Dirt Bikes/ATVs, Astrophotography, and making short films. I'm always open to trying new things.
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-q">What is "Full Flavor"?</div>
                    <div class="faq-a">
                        It means I don't stick to one genre. If I want to make Orchestral music today and Speedcore tomorrow, I do it.
                    </div>
                </div>
            </div>
        </div>

        <div id="uplinks" class="tab-content">
            <div class="link-grid">
                <a href="https://soundcloud.com/bh-fire-558322673" target="_blank" class="link-card tilt-target" onmouseenter="playHover()">
                    <i class="fa-brands fa-soundcloud"></i>
                    <h3>SoundCloud</h3>
                    <div>Stream Data</div>
                </a>
                <a href="https://www.youtube.com/@LuckyDTM" target="_blank" class="link-card tilt-target" onmouseenter="playHover()">
                    <i class="fa-brands fa-youtube"></i>
                    <h3>YouTube</h3>
                    <div>Visual Feed</div>
                </a>
                <a href="https://discord.com/users/758210843510308864" target="_blank" class="link-card tilt-target" onmouseenter="playHover()">
                    <i class="fa-brands fa-discord"></i>
                    <h3>Discord</h3>
                    <div>Comms</div>
                </a>
            </div>
        </div>

    </div>

    <audio id="mainAudio" crossorigin="anonymous"></audio>

    <script>
        /* =========================================
           LOGIC CORE
           =========================================
        */

        // 1. THEME SWITCHER
        function toggleSettings() {
            document.getElementById('settingsMenu').classList.toggle('open');
            playClick();
        }

        function setMode(mode) {
            document.body.className = `mode-${mode}`;
            playClick();
            
            // Handle Particles based on theme
            const color = mode === 'clean' ? "rgba(0,0,0,0.1)" : 
                          mode === 'terminal' ? "rgba(50,255,0,0.2)" : 
                          "rgba(255,255,255,0.1)";
            updateParticles(color);
        }

        // 2. TAB SWITCHING
        function switchTab(tabId, btn) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            
            document.getElementById(tabId).classList.add('active');
            btn.classList.add('active');
            playClick();
        }

        // 3. UI SOUND FX (Generated via Web Audio API - No files needed)
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playClick() {
            if(audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            
            // High pitch beep
            osc.type = 'sine';
            osc.frequency.setValueAtTime(800, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(300, audioCtx.currentTime + 0.1);
            
            gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
            
            osc.start();
            osc.stop(audioCtx.currentTime + 0.1);
        }

        function playHover() {
            if(audioCtx.state === 'suspended') return;
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            
            osc.type = 'triangle';
            osc.frequency.setValueAtTime(200, audioCtx.currentTime);
            
            gain.gain.setValueAtTime(0.02, audioCtx.currentTime);
            gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.05);
            
            osc.start();
            osc.stop(audioCtx.currentTime + 0.05);
        }

        // 4. REAL-TIME CLOCK & TIMER
        function updateTime() {
            const now = new Date();
            document.getElementById('localClock').innerText = now.toLocaleTimeString();
        }
        setInterval(updateTime, 1000);

        let seconds = 0;
        setInterval(() => {
            seconds++;
            const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
            const secs = (seconds % 60).toString().padStart(2, '0');
            document.getElementById('sessionTimer').innerText = `${mins}:${secs}`;
        }, 1000);

        // 5. AUDIO PLAYER (Same robust logic)
        const audio = document.getElementById('mainAudio');
        const playBtn = document.getElementById('playBtn');
        const status = document.getElementById('trackStatus');
        let isPlaying = false;
        let vizInterval;

        function updateVol(val) { audio.volume = val; }

        playBtn.addEventListener('click', async () => {
            if(!isPlaying) {
                if(!audio.src) {
                    status.innerText = "Decrypting File...";
                    try {
                        const r = await fetch('sneakypeek.txt');
                        if(!r.ok) throw new Error();
                        let txt = await r.text();
                        audio.src = txt.trim().startsWith('data:') ? txt.trim() : `data:audio/wav;base64,${txt.trim()}`;
                    } catch(e) {
                        status.innerText = "Error: File Missing";
                        return;
                    }
                }
                audio.play();
                isPlaying = true;
                playBtn.innerHTML = '<i class="fa-solid fa-pause"></i>';
                status.innerText = "Now Playing: Crossfade";
                startViz();
            } else {
                audio.pause();
                isPlaying = false;
                playBtn.innerHTML = '<i class="fa-solid fa-play"></i>';
                status.innerText = "Paused";
                clearInterval(vizInterval);
            }
        });

        function startViz() {
            const bars = document.querySelectorAll('.bar');
            vizInterval = setInterval(() => {
                bars.forEach(b => {
                    b.style.height = (Math.random() * 100) + "%";
                });
            }, 100);
        }

        // 6. KONAMI CODE EASTER EGG
        const secretCode = ['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','b','a'];
        let codePos = 0;
        document.addEventListener('keydown', (e) => {
            if(e.key === secretCode[codePos]) {
                codePos++;
                if(codePos === secretCode.length) {
                    alert("CHEAT CODE ACTIVATED: UNLIMITED CREATIVITY UNLOCKED");
                    document.body.style.filter = "invert(1)";
                    codePos = 0;
                }
            } else {
                codePos = 0;
            }
        });

        // 7. GLITCH TITLE
        const title = document.querySelector('.glitch-text');
        const originalText = "LUCKY";
        const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
        
        setInterval(() => {
            if(document.body.classList.contains('mode-clean')) return; // No glitch in clean mode
            let iter = 0;
            const interval = setInterval(() => {
                title.innerText = originalText.split("").map((l, i) => {
                    if(i < iter) return originalText[i];
                    return chars[Math.floor(Math.random() * 36)];
                }).join("");
                if(iter >= originalText.length) clearInterval(interval);
                iter += 1/3;
            }, 30);
        }, 5000);

        // 8. PHYSICS TILT (Active only in System Mode)
        const cards = document.querySelectorAll('.tilt-target');
        document.addEventListener('mousemove', (e) => {
            if(!document.body.classList.contains('mode-system')) return;
            
            cards.forEach(card => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                // Only animate if mouse is close/over
                if(x > -50 && x < rect.width + 50 && y > -50 && y < rect.height + 50) {
                     const xRot = -((y - rect.height/2) / rect.height * 10);
                     const yRot = (x - rect.width/2) / rect.width * 10;
                     card.style.transform = `perspective(1000px) rotateX(${xRot}deg) rotateY(${yRot}deg)`;
                } else {
                    card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0)';
                }
            });
        });

        // 9. PARTICLES
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        let width, height, particles = [];
        let pColor = "rgba(255,255,255,0.1)";

        function updateParticles(color) { pColor = color; }

        function initParticles() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            particles = [];
            for(let i=0; i<40; i++) {
                particles.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    size: Math.random() * 2,
                    speed: Math.random() * 0.5 + 0.1
                });
            }
        }
        function animateParticles() {
            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = pColor;
            particles.forEach(p => {
                p.y -= p.speed;
                if(p.y < 0) p.y = height;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
                ctx.fill();
            });
            requestAnimationFrame(animateParticles);
        }

        window.onload = () => { initParticles(); animateParticles(); };
        window.onresize = initParticles;

    </script>
</body>
</html>
